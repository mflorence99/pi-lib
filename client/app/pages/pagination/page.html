<lib-drawer-container>
  <main>

    <lib-test-filter
      #testFilter>
    </lib-test-filter>

    <lib-test-table
      [fields]="fields"
      [headers]="headers"
      [page]="testCtrl.page | async"
      #testTable>
    </lib-test-table>

    <lib-test-ctrl
      (loading)="testFilter.loading = testTable.loading = $event"
      (saving)="testDrawer.saving = $event"
      [filter]="testFilter.form.stream | async"
      [state]="testTable.table.state | async"
      [update]="testDrawer.form.stream | async"
      #testCtrl>
    </lib-test-ctrl>

    <lib-test-drawer
      [item]="testTable.table.selected | async"
      #testDrawer>
    </lib-test-drawer>

    <lib-exportable-data
      [datasource]="testData"
      [fields]="fields"
      [filter]="testFilter.form.stream | async"
      [headers]="headers"
      [state]="testTable.table.state | async"
      filename="testdata">
    </lib-exportable-data>

  </main>
</lib-drawer-container>
